# 开发文档

### 一.引言
1. 编写目的
   
    方便用户进行游戏信息，图片，视频的搜索。
    
2. 项目背景

    项目名称：游戏搜索引擎
    
    委托单位：无
    
    开发人员：汪逢生
    
    开发时间：2019年11月20日
 
3. 预期读者

    游戏，编程爱好者。

4. 参考资料

    《软件工程—理论与实践（第三版）》（作者：Shari Lawrence Pfleeger 和
Joanne M.Atlee）出版单位：高等教育出版社等。
 
 
### 二.总体设定

1. 需求规定
    
    1.1 系统功能
    
    搜索近两年游戏的信息，图片，视频。
    
    1.2 系统功能
    
      1.2.1 功能响应时间
     
      需求功能   | 时间
      -    |  -
      查询分词 | 1s
      文本搜索 | 3s
      图片搜索 |3s
      视频搜索 | 3s
      页面呈现|  1s
    
    1.2.2 系统并发性能

    服务器在性能有限的情况下，不能足以支撑足够的用户。

    1.2.3 适应性需求

    1.2.4 可扩展性
    
    系统具有适应计划变化的能力，当需要更改模块功能时，不需要重新架构整个系统， 且
    能轻松地增加其他功能需求

2. 运行环境
   
    2.1 设备

    ubuntu16.04及以上版本。

    2.2 支持软件

    2.3 接口

    百度AI开发平台接口。

3. 系统结构

    3.1 软件结构

    <img src ='./b.png' >

    3.2 硬件结构

    <img src ='./a.png' >

4. 功能需求和系统模块的关系

5. 尚未结局的问题
   
   不能实时更新数据源，和增量修改。

三.接口设计

1.  用户接口
    模块| 输入|输出|功能说明
    -   | -    | -   | -
    爬取文本|网页url|文本内容|爬取文本内容存取为xml格式
    分词存储|文本| 分词后的文本|进行文本预处理并存储到数据库
    权重计算|分词后的文本|tfidf权重|存储对应的值
    文本纠错|查询|纠错结果|为用户提供相关结果

2. 外部接口
   
   软件接口：在Linux操作系统上运行。

四. 运行设计

    1. 运行模块

    用两个端组合，进行数据的交换。

    2. 运行控制
   
    运行控制严格按照各个模块间的函数调用关系来实现；
    在数据传输方面，服务器作为数据与请求的接收和处理中心，在对数据进行函数处理和访问数据库层之后返回客户端。

五. 系统数据接口设计
1. 倒排索引表
    序号|字段名| 类型 |长度| 是否可为空 | 主键 |说明
    -   |-    |-     |-   |-          |-     |- 
    1| id |int | 11| 否| 是|
    2| term| varchar| 16  |否|否|
    3| df|   int|11 |否|否|
    4|docs| text | |否|否|
2. doc_len表
    序号|字段名| 类型 |长度| 是否可为空 | 主键 |说明
    -   |-    |-     |-   |-          |-     |- 
     1| id |int | 11| 否| 是|
    2| length| double| (9,4)  |否|否|

六. 系统出错处理设计

    6.1 出错信息

    出错或故障情况 系统未出现正确返回结果，重启服务器。

    数据库损坏 参考补救措施

    6.2 补救措施

    数据库损坏，为了确保数据库的安全，假设将数据库备份在云端服务器上，定期进行备
    份，保障数据可以恢复；服务器端有基于数据库的备份模块。

    6.3 系统维护设计

    1.系统的维护主要包括系统的数据库维护与功能维护；

    2.对于数据库，提供了备份和恢复的功能，可以进行维护管理；

    3.对于系统功能，因为采用了模块化开发的设计，每个模块的耦合度较低，程序中
    的函数方法以及数据结构的定义都做了良好的封装，修改的时候不需要重新架构。根据
    用户的需求，定期对系统各个功能模块进行修改。